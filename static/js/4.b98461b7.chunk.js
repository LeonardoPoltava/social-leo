(this["webpackJsonpreact-first"]=this["webpackJsonpreact-first"]||[]).push([[4],{223:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return u}));var n=a(224),r=a(0),o=a.n(r),s=(a(225),a(104)),l=function(e){e.input;var t=e.meta,a=t.error,r=t.touched,s=e.children,l=(Object(n.a)(e,["input","meta","children"]),a&&r);return o.a.createElement("div",{className:"form-control "+(l?"error":"")},s,l&&o.a.createElement("span",{className:"error-span"},a))},i=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(l,e,o.a.createElement("textarea",Object.assign({},t,a)))},c=function(e){var t=e.input,a=(e.meta,Object(n.a)(e,["input","meta"]));return o.a.createElement(l,e,o.a.createElement("input",Object.assign({},t,a)))},u=function(e,t,a,n,r){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return o.a.createElement(s.a,Object.assign({component:n,validate:a,name:t,placeholder:e,className:r},l))}},225:function(e,t,a){},226:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return e?void 0:"Field is required"},r=function(e){return function(t){return t.length>e?"Max length is ".concat(e):void 0}}},228:function(e,t,a){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(i){r=!0,o=i}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}a.d(t,"a",(function(){return n}))},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},299:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a(52),o=a(54),s=a(53),l=a(55),i=a(0),c=a.n(i),u=a(39),m=(a(290),a(228)),p=(a(291),function(e){var t=Object(i.useState)(!1),a=Object(m.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),s=Object(m.a)(o,2),l=s[0],u=s[1];Object(i.useEffect)((function(){u(e.status)}),[e.status]);return c.a.createElement("div",null,!n&&c.a.createElement("span",{onDoubleClick:function(){r(!0)},className:"profile-status"},e.status||"No status"),n&&c.a.createElement("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(l)},type:"text",value:l,className:"profile-status-input"}))}),f=a(105),d=a(223),b=Object(f.a)({form:"edit-profile"})((function(e){var t=e.profile,a=e.handleSubmit;return c.a.createElement("form",{onSubmit:a,className:"profile-info-list"},c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("button",{type:"submit"},"Save")),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"Looking for a job"),": ",Object(d.c)("","lookingForAJob",[],d.a,"",{type:"checkbox"})),t.lookingForAJob&&c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"My professional skills"),": ",Object(d.c)("","lookingForAJobDescription",[],d.b)),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"About me:")," ",Object(d.c)("","aboutMe",[],d.a,"")),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"Contacts:")))})),h=a(38),E=function(e){var t=e.profile,a=e.isOwner,n=e.activateEditMode;return c.a.createElement("ul",{className:"profile-info-list"},a&&c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("button",{onClick:n},"Edit")),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"Yes":"No",";"),t.lookingForAJob&&c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"My professional skills:")," ",t.lookingForAJobDescription,";"),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"About me:")," ",t.aboutMe,";"),c.a.createElement("li",{className:"profile-info-list__elem"},c.a.createElement("b",null,"Contacts:"),c.a.createElement("div",{className:"contacts-list"},Object.keys(t.contacts).map((function(e){return c.a.createElement(v,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))))},v=function(e){var t=e.contactTitle,a=e.contactValue;return c.a.createElement("div",{className:"contacts-box"},c.a.createElement("b",null,t),": ",a)},g=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,s=e.saveProfile,l=Object(i.useState)(!1),u=Object(m.a)(l,2),f=u[0],d=u[1];return t?c.a.createElement("div",{className:""},c.a.createElement("h1",null,"Profile"),c.a.createElement("div",{className:"description"},c.a.createElement("div",{className:"description-holder"},c.a.createElement("div",{className:"photo-holder"},c.a.createElement("img",{src:t.photos.large?t.photos.large:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwuab-TXFNmiH1vzYJx_Oo7Dtxe0XtogHfy1hZwRHPx5Y4EOvS&s",alt:"",className:"avatar"}),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])},id:"add-photo",className:"add-photo"}),c.a.createElement("label",{htmlFor:"add-photo"},"Add photo"))),c.a.createElement("div",{className:"profile-info-box"},c.a.createElement("span",{className:"profile-name"},t.fullName),c.a.createElement(p,{status:a,updateStatus:n}))),f?c.a.createElement(b,{initialValues:t,profile:t,onSubmit:function(e){s(e).then((function(){d(!1)}))}}):c.a.createElement(E,{activateEditMode:function(){d(!0)},profile:t,isOwner:r}))):c.a.createElement(h.a,null)},N=a(57),O=(a(292),a(293),function(e){return c.a.createElement("div",{className:"post",id:e.id},c.a.createElement("img",{src:"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png",alt:"",width:50,height:50,className:"post-avatar"}),c.a.createElement("span",{className:"post-name"},e.name),c.a.createElement("span",{className:"post-text"},e.message),c.a.createElement("a",{href:"/",className:"post-like"},"Like"),c.a.createElement("span",{className:"like-counter"},"(",e.likeCounter,")"))}),j=a(104),y=a(226),k=Object(y.a)(10),S=c.a.memo((function(e){var t=e.posts.map((function(e){return c.a.createElement(O,{id:e.id,key:e.id,message:e.message,likeCounter:e.likesCount})}));return c.a.createElement("div",{className:"posts"},c.a.createElement("h2",null,"My posts"),c.a.createElement(_,{onSubmit:function(t){e.addPost(t.postArea)}}),t)})),_=Object(f.a)({form:"postsAddMessageForm"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:"posts-form"},c.a.createElement(j.a,{component:d.b,placeholder:"Type your message here..",name:"postArea",id:"post-area",cols:"30",rows:"10",validate:[y.b,k]}),c.a.createElement("button",null,"Add post"))})),A=S,P=Object(u.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(A),w=function(e){return c.a.createElement("div",{className:"profile"},c.a.createElement(g,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),c.a.createElement(P,{store:e.store}))},F=a(21),x=a(17),C=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.currentUserId)||this.props.history.push("/login/"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(w,Object.assign({savePhoto:this.props.savePhoto,isOwner:!this.props.match.params.userId},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),t}(c.a.Component);t.default=Object(x.d)(Object(u.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,currentUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.d,getStatus:N.c,updateStatus:N.f,savePhoto:N.e}),F.g)(C)}}]);
//# sourceMappingURL=4.b98461b7.chunk.js.map